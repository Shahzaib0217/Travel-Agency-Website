<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('../partials/head'); %>
        <title>Admin Panel</title>
</head>

<body>
    <%- include('../partials/adminNav'); %>
        <div class="container">
            <h1 class="mt-3 mb-3 text-center text-primary text-success"><b>Edit Tour</b></h1>

            <div class="row">
                <div class="col-md-10 mx-auto">
                    <div class="card bg-light mb-4">
                        <div class="card-header">Update Tour Data given below</div>
                        <div class="card-body">
                            <form method="post" action="/admin/edit/<%= tour_data.tourID %>"
                                enctype="multipart/form-data" class="needs-validation " novalidate>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label>Tour Name</label>
                                            <input type="text" name="name" id="name" value="<%= tour_data.tourName %>"
                                                class="form-control" required />
                                        </div>
                                        <div class="valid-feedback">
                                            Looks good!
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label>Select City</label>
                                            <select name="Tourcity" id="Tourcity" class="form-control"
                                                value="<%= tour_data.tourCity %>" required>
                                                <option value="Murree">Murree</option>
                                                <option value="Swat">Swat</option>
                                                <option value="Hunza">Hunza</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label>Tour Description</label>
                                            <textarea name="TourDesc" id="TourDesc" cols="30" rows="5"
                                                class="form-control" required
                                                style="background: #fff; resize: none;"> <%= tour_data.tourDescription %> </textarea>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label>Tour Inclusions</label>
                                            <textarea name="TourIncl" id="TourIncl" cols="30" rows="5"
                                                class="form-control" required
                                                style="background: #fff; resize: none;"> <%= tour_data.tourInclusions %> </textarea>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label>Select Hotel</label>
                                            <select name="Hotels" id="Hotels" class="form-control"
                                                value="<%= tour_data.tourHotels %>" required>
                                                <option value="A1 Hotel">A1 Hotel</option>
                                                <option value="A2 Hotel">A2 Hotel</option>
                                                <option value="A3 Hotel">A3 Hotel</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label>Select Duration</label>
                                            <select name="Duration" id="Duration" class="form-control"
                                                value="<%= tour_data.tourDuration %>" required>
                                                <option value="1 Day">1 Day</option>
                                                <option value="3 Days">3 Days</option>
                                                <option value="5 Days">5 Days</option>
                                                <option value="7 Days">7 Days</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label>Card Image</label>
                                            <input type="file" name="CardImage" id="CardImage" class="form-control"
                                                value="<%= tour_data.tourImage %>" required />
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label>Banner Image</label>
                                            <input type="file" name="BannerImage" id="BannerImage" class="form-control"
                                                value="<%= tour_data.tourBanner %>" required />
                                        </div>
                                    </div>
                                </div>
                                <div class="mt-4">
                                    <div>
                                        <input type="submit" name="submit_button" id="submit_button"
                                            class="btn btn-success" value="submit" />
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script>
            // Example starter JavaScript for disabling form submissions if there are invalid fields
            (function () {
                'use strict';
                window.addEventListener('load', function () {
                    // Fetch all the forms we want to apply custom Bootstrap validation styles to
                    var forms = document.getElementsByClassName('needs-validation');
                    // Loop over them and prevent submission
                    var validation = Array.prototype.filter.call(forms, function (form) {
                        form.addEventListener('submit', function (event) {
                            if (form.checkValidity() === false) {
                                event.preventDefault();
                                event.stopPropagation();
                            }
                            form.classList.add('was-validated');
                        }, false);
                    });
                }, false);
            })();
        </script>
</body>